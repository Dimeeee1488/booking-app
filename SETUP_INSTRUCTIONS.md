# üöÄ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

## ‚úÖ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–í—Å–µ API-–∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç —á–µ—Ä–µ–∑ `/api`** ‚Äî –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ:
- **–õ–æ–∫–∞–ª—å–Ω–æ**: Vite –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç `/api` ‚Üí `http://localhost:3001` (—Å–º. `vite.config.ts`)
- **–ù–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ**: `server.cjs` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç `/api` –∏ –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –Ω–∞ RapidAPI

---

## üì¶ –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
npm install
```

### 2. –°–æ–∑–¥–∞–π `.env` —Ñ–∞–π–ª (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
```bash
cp env.example .env
```

–ó–∞–ø–æ–ª–Ω–∏ —Å–≤–æ–∏ –∫–ª—é—á–∏:
```
RAPIDAPI_KEY=—Ç–≤–æ–π_–∫–ª—é—á_—Å_rapidapi
RAPIDAPI_HOST=booking-com15.p.rapidapi.com
```

### 3. –ó–∞–ø—É—Å–∫

**–í–∞—Ä–∏–∞–Ω—Ç A: –¢–æ–ª—å–∫–æ —Ñ—Ä–æ–Ω—Ç (–¥–ª—è UI-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)**
```bash
npm run dev
```
–û—Ç–∫—Ä–æ–π: `http://localhost:5173`

**–í–∞—Ä–∏–∞–Ω—Ç B: –§—Ä–æ–Ω—Ç + –ë—ç–∫–µ–Ω–¥ (–ø–æ–ª–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å API)**

**–¢–µ—Ä–º–∏–Ω–∞–ª 1 ‚Äî –ë—ç–∫–µ–Ω–¥:**
```bash
node server.cjs
```

**–¢–µ—Ä–º–∏–Ω–∞–ª 2 ‚Äî –§—Ä–æ–Ω—Ç:**
```bash
npm run dev
```

–û—Ç–∫—Ä–æ–π: `http://localhost:5173`

---

## üåê –î–µ–ø–ª–æ–π –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥ (Render / Railway / VPS)

### 1. –°–æ–±–µ—Ä–∏ –ø—Ä–æ–µ–∫—Ç
```bash
npm install
npm run build
```

### 2. –ù–∞—Å—Ç—Ä–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ
```
RAPIDAPI_KEY=—Ç–≤–æ–π_–∫–ª—é—á
RAPIDAPI_HOST=booking-com15.p.rapidapi.com
PORT=3001  # –∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π
```

### 3. –ó–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä
```bash
node server.cjs
```

**–í—Å—ë!** –°–µ—Ä–≤–µ—Ä –æ—Ç–¥–∞—ë—Ç —Ñ—Ä–æ–Ω—Ç –∏–∑ `dist/` –∏ –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç `/api`.

---

## üîß –í–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã

### `vite.config.ts`
```ts
export default defineConfig({
  plugins: [react()],
  server: {
    proxy: {
      '/api': {
        target: 'http://localhost:3001',
        changeOrigin: true,
        secure: false,
      },
    },
  },
})
```
**–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**: –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç `/api` ‚Üí `http://localhost:3001`

### `server.cjs`
```js
// 1. –ü—Ä–æ–∫—Å–∏—Ä—É–µ—Ç API –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ RapidAPI
app.get('/api/hotels/searchDestination', async (req, res) => { ... });
app.get('/api/flights/searchFlights', async (req, res) => { ... });
// ... –∏ —Ç.–¥.

// 2. –û—Ç–¥–∞—ë—Ç —Å—Ç–∞—Ç–∏–∫—É –∏–∑ dist/
app.use(express.static(path.join(__dirname, 'dist')));

// 3. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç SPA —Ä–æ—É—Ç–∏–Ω–≥
app.get('*', (req, res) => {
  res.sendFile(path.join(__dirname, 'dist', 'index.html'));
});
```

### –í—Å–µ API-–≤—ã–∑–æ–≤—ã –≤ –∫–æ–¥–µ
```ts
// src/services/hotelApi.ts
const API_BASE_URL = '/api';

const response = await fetch(
  `${API_BASE_URL}/hotels/searchDestination?query=${encodeURIComponent(query)}`,
  { method: 'GET', mode: 'cors', signal }
);
```

**–ù–µ—Ç –∂—ë—Å—Ç–∫–æ –ø—Ä–æ–ø–∏—Å–∞–Ω–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤** ‚Äî —Ç–æ–ª—å–∫–æ `/api`.

---

## üêõ –¢—Ä–∞–±–ª—à—É—Ç–∏–Ω–≥

### –ü—Ä–æ–±–ª–µ–º–∞: CORS –æ—à–∏–±–∫–∏ –ª–æ–∫–∞–ª—å–Ω–æ
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Å—å, —á—Ç–æ `server.cjs` –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 3001:
```bash
node server.cjs
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ –Ω–∏—á–µ–≥–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
**–ü—Ä–∏—á–∏–Ω–∞:** `server.cjs` –Ω–µ –∑–∞–ø—É—â–µ–Ω –∏–ª–∏ –Ω–µ —Å–æ–±—Ä–∞–Ω `dist/`

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
npm install
npm run build
node server.cjs
```

### –ü—Ä–æ–±–ª–µ–º–∞: `localhost:3001` –≤ –æ—à–∏–±–∫–∞—Ö –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ
**–ü—Ä–∏—á–∏–Ω–∞:** –°—Ç–∞—Ä—ã–π –±–∏–ª–¥ –≤ `dist/`

**–†–µ—à–µ–Ω–∏–µ:**
```bash
rm -rf dist
npm run build
```

---

## üìù –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

- [ ] `npm run build` –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ
- [ ] `dist/` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–≤–µ–∂–∏–π –±–∏–ª–¥
- [ ] –ù–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ –∑–∞–¥–∞–Ω—ã `RAPIDAPI_KEY` –∏ `RAPIDAPI_HOST`
- [ ] `node server.cjs` –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª, —á—Ç–æ –≤ `dist/assets/*.js` –Ω–µ—Ç `localhost:3001`

---

## üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç (—É–ø—Ä–æ—â—ë–Ω–Ω–æ)

```
–ë—Ä–∞—É–∑–µ—Ä ‚Üí fetch('/api/hotels/...') 
         ‚Üì
  [–õ–æ–∫–∞–ª—å–Ω–æ: Vite proxy ‚Üí localhost:3001]
  [–•–æ—Å—Ç–∏–Ω–≥: server.cjs –Ω–∞–ø—Ä—è–º—É—é]
         ‚Üì
    server.cjs ‚Üí RapidAPI
         ‚Üì
    ‚Üê JSON –æ—Ç–≤–µ—Ç ‚Üê
```

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** API-–∫–ª—é—á–∏ —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –Ω–∏–∫–æ–≥–¥–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

